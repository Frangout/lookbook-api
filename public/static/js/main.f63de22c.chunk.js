(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{671:function(e,t){},724:function(e,t,c){},819:function(e,t,c){},820:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(80),o=c.n(a),s=c(63),i=c(46),l=c(61),j=c.n(l),b=(c(724),c(172)),d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t={},c=("?"===e[0]?e.substr(1):e).split("&"),n=0;n<c.length;n++){var r=c[n].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return t},u=c(13),O=c(26),p=c(325),h=c(337),x=c(6),g=c(24),f=c(171),m=c(327),k=c(112),v=c(357),y=c(7),w=c(127),S=c(2);function C(){var e=Object(g.c)(),t=e.isOpen,c=e.onToggle;return Object(S.jsxs)(p.a,{children:[Object(S.jsxs)(p.e,{bg:Object(f.d)("white","gray.800"),color:Object(f.d)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:Object(f.d)("gray.200","gray.900"),align:"center",children:[Object(S.jsx)(p.e,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:Object(S.jsx)(m.c,{onClick:c,icon:t?Object(S.jsx)(w.c,{w:3,h:3}):Object(S.jsx)(w.e,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),Object(S.jsx)(p.e,{flex:{base:1},justify:{base:"center",md:"start"},children:Object(S.jsx)(p.e,{display:{base:"none",md:"flex"},ml:10,children:Object(S.jsx)(T,{})})}),Object(S.jsx)(i.b,{to:"/looks/create",children:Object(S.jsx)(p.j,{flex:{base:1,md:0},justify:"flex-end",direction:"row",spacing:6,children:Object(S.jsx)(m.a,{display:{base:"none",md:"inline-flex"},fontSize:"sm",fontWeight:600,color:"white",bg:"pink.400",href:"#",_hover:{bg:"pink.300"},children:"Create Look"})})})]}),Object(S.jsx)(k.a,{in:t,animateOpacity:!0,children:Object(S.jsx)(I,{})})]})}var T=function(){var e=Object(f.d)("gray.600","gray.200"),t=Object(f.d)("gray.800","white"),c=Object(f.d)("white","gray.800");return Object(S.jsx)(p.j,{direction:"row",spacing:4,children:L.map((function(n){var r;return Object(S.jsx)(p.a,{children:Object(S.jsxs)(v.a,{trigger:"hover",placement:"bottom-start",children:[Object(S.jsx)(v.c,{children:Object(S.jsx)(i.b,{p:2,to:null!==(r=n.href)&&void 0!==r?r:"#",fontSize:"sm",fontWeight:500,color:e,_hover:{textDecoration:"none",color:t},children:n.label})}),n.children&&Object(S.jsx)(v.b,{border:0,boxShadow:"xl",bg:c,p:4,rounded:"xl",minW:"sm",children:Object(S.jsx)(p.j,{children:n.children.map((function(e){return Object(S.jsx)(z,Object(x.a)({},e),e.label)}))})})]})},n.label)}))})},z=function(e){var t=e.label,c=e.href,n=e.subLabel;return Object(S.jsx)(i.b,{to:c,role:"group",display:"block",p:2,rounded:"md",_hover:{bg:Object(f.d)("pink.50","gray.900")},children:Object(S.jsxs)(p.j,{direction:"row",align:"center",children:[Object(S.jsxs)(p.a,{children:[Object(S.jsx)(p.k,{transition:"all .3s ease",_groupHover:{color:"pink.400"},fontWeight:500,children:t}),Object(S.jsx)(p.k,{fontSize:"sm",children:n})]}),Object(S.jsx)(p.e,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:Object(S.jsx)(y.a,{color:"pink.400",w:5,h:5,as:w.b})})]})})},I=function(){return Object(S.jsx)(p.j,{bg:Object(f.d)("white","gray.800"),p:4,display:{md:"none"},children:L.map((function(e){return Object(S.jsx)(_,Object(x.a)({},e),e.label)}))})},_=function(e){var t=e.label,c=e.children,n=e.href,r=Object(g.c)(),a=r.isOpen,o=r.onToggle;return Object(S.jsxs)(p.j,{spacing:4,onClick:c&&o,children:[Object(S.jsxs)(p.e,{py:2,as:i.b,to:null!==n&&void 0!==n?n:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[Object(S.jsx)(p.k,{fontWeight:600,color:Object(f.d)("gray.600","gray.200"),children:t}),c&&Object(S.jsx)(y.a,{as:w.a,transition:"all .25s ease-in-out",transform:a?"rotate(180deg)":"",w:6,h:6})]}),Object(S.jsx)(k.a,{in:a,animateOpacity:!0,style:{marginTop:"0!important"},children:Object(S.jsx)(p.j,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:Object(f.d)("gray.200","gray.700"),align:"start",children:c&&c.map((function(e){return Object(S.jsx)(i.b,{py:2,to:e.href,children:e.label},e.label)}))})})]})},L=[{label:"Settings",href:"/settings"}],W=c(356),A=c(125),F=c(360),D=c(207),E=c(249),B=c(359),P=c.n(B),R={dots:!0,arrows:!1,fade:!0,infinite:!0,autoplay:!0,speed:500,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1};function U(e){var t=r.a.useState(null),c=Object(O.a)(t,2),n=c[0],a=c[1],o=Object(D.a)({base:"90%",md:"50%"}),s=Object(D.a)({base:"30%",md:"40px"}),i=e.medias,l=void 0===i?[]:i;return Object(S.jsxs)(p.a,{position:"relative",height:e.height||"400px",width:e.width||"400px",overflow:"hidden",borderWidth:"1px",rounded:"lg",shadow:"lg",margin:"0 auto",children:[Object(S.jsx)(m.c,{"aria-label":"left-arrow",variant:"ghost",position:"absolute",left:s,top:o,transform:"translate(-50%, -50%)",zIndex:2,onClick:function(){return null===n||void 0===n?void 0:n.slickPrev()},children:Object(S.jsx)(E.a,{size:"40px"})}),Object(S.jsx)(m.c,{"aria-label":"right-arrow",variant:"ghost",position:"absolute",right:s,top:o,transform:"translate(50%, -50%)",zIndex:2,onClick:function(){return null===n||void 0===n?void 0:n.slickNext()},children:Object(S.jsx)(E.b,{size:"40px"})}),Object(S.jsx)(P.a,Object(x.a)(Object(x.a)({autoplay:!1},R),{},{ref:function(e){return a(e)},children:l.map((function(t,c){return Object(S.jsx)(p.a,{position:"relative",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"url(".concat(t.url?t.url:t.src,")"),children:Object(S.jsx)(p.c,{padding:"0",size:"container.lg",height:e.height||"400px",position:"relative",children:Object(S.jsx)(p.j,{padding:"0",w:"full",position:"absolute",bottom:"0",background:"#00000094"})})},c)}))}))]})}var M=c(82),G=c(25),H=c(11),V=c.n(H),q=c(110),N=c.n(q),K=c(56),J=c.n(K),X=c(16),Y="Something went wrong. Try again",Q={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},patch:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},Z=N()((function(e,t){return{looks:Q,getLooks:function(){var t=Object(G.a)(V.a.mark((function t(){var c,n,r,a,o,s,i,l=arguments;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l.length>0&&void 0!==l[0]?l[0]:{},n=c.id,r=void 0===n?"":n,a=c.shop,o=void 0===a?window.lookbook.shop:a,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{get:Object(x.a)(Object(x.a)({},Q.get),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.get("".concat("https://shoplook.frangout.com","/api/get_looks?shop=").concat(o,"&id=").concat(r));case 5:return s=t.sent,i=s.data,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{get:Object(x.a)(Object(x.a)({},Q.get),{},{success:{ok:!0,data:i}})})})}))),t.abrupt("return",i);case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0),t.t0.code===j.a.Error.INVALID_SESSION_TOKEN&&j.a.User.logOut(),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{get:Object(x.a)(Object(x.a)({},Q.get),{},{failure:{error:!0,message:t.t0.message||Y}})})})})));case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),postLooks:function(){var t=Object(G.a)(V.a.mark((function t(c){var n,r,a,o,s,i,l,j;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.id,n=c.shop,r=void 0===n?window.lookbook.shop:n,a=c.name,o=c.medias,s=c.products,i=void 0===s?[]:s,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{post:Object(x.a)(Object(x.a)({},Q.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.post("".concat("https://shoplook.frangout.com","/api/post_looks"),{shop:r,name:a,medias:o,products:i});case 5:return l=t.sent,j=l.data,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{post:Object(x.a)(Object(x.a)({},Q.post),{},{success:{ok:!0,data:j}})})})}))),t.abrupt("return",j);case 11:throw t.prev=11,t.t0=t.catch(2),console.error(t.t0),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{post:Object(x.a)(Object(x.a)({},Q.post),{},{failure:{error:!0,message:t.t0.message||Y}})})})}))),t.t0;case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),patchLooks:function(){var t=Object(G.a)(V.a.mark((function t(c){var n,r,a,o,s,i,l,j,b;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.id,r=c.shop,a=void 0===r?window.lookbook.shop:r,o=c.name,s=c.medias,i=c.products,l=void 0===i?[]:i,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{patch:Object(x.a)(Object(x.a)({},Q.patch),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.post("".concat("https://shoplook.frangout.com","/api/post_looks"),{id:n,shop:a,name:o,medias:s,products:l});case 5:return j=t.sent,b=j.data,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{patch:Object(x.a)(Object(x.a)({},Q.patch),{},{success:{ok:!0,data:b}})})})}))),t.abrupt("return",b);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{patch:Object(x.a)(Object(x.a)({},Q.patch),{},{failure:{error:!0,message:t.t0.message||Y}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),destroyLooks:function(){var t=Object(G.a)(V.a.mark((function t(c){var n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{destroy:Object(x.a)(Object(x.a)({},Q.destroy),{},{loading:!0})})})}))),t.prev=1,t.next=4,J.a.delete("".concat("https://shoplook.frangout.com","/api/destroy_looks?id=").concat(c));case 4:return n=t.sent,r=n.data,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{destroy:Object(x.a)(Object(x.a)({},Q.destroy),{},{success:{ok:!0,data:r}})})})}))),t.abrupt("return",r);case 10:throw t.prev=10,t.t0=t.catch(1),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{looks:Object(x.a)(Object(x.a)({},e.looks),{},{destroy:Object(x.a)(Object(x.a)({},Q.destroy),{},{failure:{error:!0,message:t.t0.message||Y}})})})}))),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}})),$=Z,ee=function(e){e.look;return Object(S.jsxs)(p.i,{columns:2,spacing:5,marginTop:"5",children:[Object(S.jsxs)(p.f,{align:"top",children:[Object(S.jsx)(p.a,{color:"green.400",px:2,children:Object(S.jsx)(y.a,{as:M.f})}),Object(S.jsxs)(p.l,{align:"start",children:[Object(S.jsx)(p.k,{fontWeight:600,children:"Views"}),Object(S.jsx)(p.k,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Total views"})]})]}),Object(S.jsxs)(p.f,{align:"top",children:[Object(S.jsx)(p.a,{color:"green.400",px:2,children:Object(S.jsx)(y.a,{as:M.g})}),Object(S.jsxs)(p.l,{align:"start",children:[Object(S.jsx)(p.k,{fontWeight:600,children:"Clicks"}),Object(S.jsx)(p.k,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Total clicks"})]})]}),Object(S.jsxs)(p.f,{align:"top",children:[Object(S.jsx)(p.a,{color:"green.400",px:2,children:Object(S.jsx)(y.a,{as:M.c})}),Object(S.jsxs)(p.l,{align:"start",children:[Object(S.jsx)(p.k,{fontWeight:600,children:"Add to cart"}),Object(S.jsx)(p.k,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Cart revenue"})]})]}),Object(S.jsxs)(p.f,{align:"top",children:[Object(S.jsx)(p.a,{color:"green.400",px:2,children:Object(S.jsx)(y.a,{as:M.h})}),Object(S.jsxs)(p.l,{align:"start",children:[Object(S.jsx)(p.k,{fontWeight:600,children:"Conversion"}),Object(S.jsx)(p.k,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Total revenue"})]})]})]})},te=function(e){var t=e.orangeColorMode,c=e.look;return Object(S.jsxs)(p.a,{display:"flex",flex:"1",marginRight:"3",position:"relative",alignItems:"center",children:[Object(S.jsx)(p.a,{width:{base:"100%"},zIndex:"2",children:Object(S.jsx)(U,{medias:c.medias})}),Object(S.jsx)(p.a,{zIndex:"1",width:"100%",position:"absolute",height:"100%",children:Object(S.jsx)(p.a,{bgGradient:t,backgroundSize:"20px 20px",opacity:"0.4",height:"100%"})})]})},ce=function(e){return Object(S.jsxs)(p.f,{display:"flex",alignItems:"center",children:[Object(S.jsx)(p.k,{fontWeight:"light",fontSize:"sm",children:"Created at:"}),Object(S.jsx)(p.k,{fontSize:"sm",children:e.date.toLocaleString(F.DateTime.DATETIME_MED)})]})},ne=function(e){var t=e.looks,c=e.orangeColorMode,n=e.getLooks;return t.get.loading?Object(S.jsxs)(p.e,{alignItems:"flex-start",flexDirection:"row",children:[Object(S.jsx)(h.a,{children:Object(S.jsx)(U,{medias:[]})}),Object(S.jsxs)(p.e,{direction:"column",width:"90%",marginLeft:"5",children:[Object(S.jsx)(h.a,{width:"100%",height:"40px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"})]})]}):t.get.failure.error?Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.e,{direction:"column",align:"center",children:[Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(p.g,{as:"h1",size:"md",children:t.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.d,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return n()},children:"Try Again"})})]})}):t.get.success.data.length?t.get.success.data.map((function(e){return Object(S.jsxs)(p.a,{children:[Object(S.jsxs)(p.a,{marginTop:{base:"1",sm:"5"},marginBottom:{base:"1",sm:"5"},display:"flex",flexDirection:{base:"column",sm:"row"},justifyContent:"space-between",children:[te({orangeColorMode:c,look:e}),Object(S.jsxs)(p.a,{display:"flex",flex:"1",flexDirection:"column",justifyContent:"flex-start",marginTop:{base:"3",sm:"0"},children:[Object(S.jsxs)(h.a,{isLoaded:!t.get.loading,children:[Object(S.jsx)(p.g,{marginTop:"1",children:Object(S.jsx)(i.b,{textDecoration:"none",_hover:{textDecoration:"none"},to:"looks/".concat(e.objectId),children:e.name})}),Object(S.jsx)(ce,{date:e.createdAt})]}),ee({look:e}),Object(S.jsx)(p.j,{direction:"row",spacing:4,marginTop:"5",children:Object(S.jsx)(i.b,{to:"looks/".concat(e.objectId),children:Object(S.jsx)(m.a,{colorScheme:"blue",isFullWidth:!0,leftIcon:Object(S.jsx)(M.b,{}),variant:"solid",children:"View / Modify"})})})]})]},e.objectId),Object(S.jsx)(p.d,{marginTop:"1em",marginBottom:"1em"})]},e.objectId)})):t.get.success.data.length?null:Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.e,{direction:"column",align:"center",children:[Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(p.g,{as:"h1",size:"md",children:"You have not created any looks yet."})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.d,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(i.b,{to:"/looks/create",children:Object(S.jsx)(m.a,{children:"Create Look"})})})]})})};function re(e){var t=$((function(e){return e.looks})),c=$((function(e){return e.getLooks})),r=(Object(W.a)(),Object(f.d)("radial(orange.600 1px, transparent 1px)","radial(orange.300 1px, transparent 1px)"));return Object(n.useEffect)((function(){c()}),[]),Object(S.jsxs)(p.c,{maxW:"7xl",p:"12",children:[Object(S.jsxs)(A.a,{status:"info",children:[Object(S.jsx)(A.c,{}),'To enable or disable "Shop the look" widget on your store, please visit the \xa0',Object(S.jsx)(i.b,{to:"/settings",style:{textDecoration:"underline"},children:Object(S.jsx)("b",{children:"Settings page"})}),"."]}),Object(S.jsx)("br",{}),ne({looks:t,orangeColorMode:r,getLooks:c})]})}re.defaultProps={};var ae=re,oe=c(208),se=c(338);function ie(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),o=Object(O.a)(a,2),s=o[0],i=o[1];return Object(S.jsx)(p.a,{marginTop:"24",children:Object(S.jsx)(p.l,{children:Object(S.jsxs)(p.a,{boxSize:"lg",children:[Object(S.jsxs)(p.l,{spacing:"3",children:[Object(S.jsx)(p.g,{as:"h1",size:"md",children:"Shopify Store Authentication"}),Object(S.jsx)(p.k,{children:"The access data to your Shopify site has expired."})]}),Object(S.jsx)("br",{}),Object(S.jsx)(p.d,{}),Object(S.jsx)("br",{}),Object(S.jsxs)(p.l,{spacing:"3",children:[Object(S.jsxs)(oe.a,{id:"shopify-site",isRequired:!0,isInvalid:s,children:[Object(S.jsx)(oe.c,{children:"Shopify site sub domain"}),Object(S.jsxs)(se.b,{children:[Object(S.jsx)(se.c,{children:"https://"}),Object(S.jsx)(se.a,{onChange:function(e){return r(e.target.value)},type:"text",value:c,placeholder:"yourstore.myshopify.com"})]}),Object(S.jsx)(oe.b,{children:"This is required"})]}),Object(S.jsx)(m.a,{onClick:function(){if(!c)return i(!0),!1;window.location.href="".concat("https://shoplook.frangout.com","/shopify?shop=").concat(c)},isFullWidth:!0,children:"Authorize"})]})]})})})}var le=function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),o=Object(O.a)(a,2),s=o[0],i=o[1],l=Object(n.useState)(!1),j=Object(O.a)(l,2),b=j[0],x=j[1],g=Object(n.useState)(!1),f=Object(O.a)(g,2),m=f[0],k=f[1],v=Object(n.useState)(!1),y=Object(O.a)(v,2),w=y[0],T=y[1];return Object(n.useEffect)((function(){var e=d(window.location.search),t=e.code,c=e.session,n=e.hmac,a=e.embed,o=e.host,s=void 0===o?"":o;e.userToken;window.lookbook=d(window.location.search),c?(r(!0),i(!1),x(!1),k(!1)):t?(r(!1),i(!1),x(!0),k(!1),window.location.replace("".concat("https://shoplook.frangout.com","/shopify/callback").concat(document.location.search))):n?(r(!1),i(!0),x(!1),k(!1),window.location.replace("".concat("https://shoplook.frangout.com","/shopify").concat(document.location.search))):!s||t||n?a&&(T(!0),r(!1),i(!1),x(!1),k(!1)):(k(!0),r(!1),i(!1),x(!1))}),[]),c?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsx)(ae,{})]}):w?Object(S.jsx)(u.a,{to:"/embed",replace:!0}):s||b||m?Object(S.jsx)(p.c,{maxW:"7xl",p:"12",children:Object(S.jsxs)(p.e,{alignItems:"flex-start",flexDirection:"row",children:[Object(S.jsx)(h.a,{children:Object(S.jsx)(p.a,{})}),Object(S.jsxs)(p.e,{direction:"column",width:"90%",marginLeft:"5",children:[Object(S.jsx)(h.a,{width:"100%",height:"40px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"})]})]})}):Object(S.jsx)(ie,{})},je=c(73),be=c(209),de=c(4),ue=c(339),Oe=function(){var e=Object(G.a)(V.a.mark((function e(t){var c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FileReader).readAsDataURL(t),e.abrupt("return",new Promise((function(e,t){c.onload=function(){return e(c.result)},c.onerror=function(e){return t(e)}})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe={get:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},he=N()((function(e,t){return{files:pe,getFiles:function(){var t=Object(G.a)(V.a.mark((function t(){var c;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{files:Object(x.a)(Object(x.a)({},e.files),{},{get:Object(x.a)(Object(x.a)({},pe.get),{},{loading:!0})})})}))),t.prev=1,t.next=4,J.a.get("",{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("thinkificAccessToken")),accept:"application/json"}});case 4:c=t.sent,c.data,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{files:Object(x.a)(Object(x.a)({},e.files),{},{get:Object(x.a)(Object(x.a)({},pe.get),{},{success:{ok:!0,data:[]}})})})}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{files:Object(x.a)(Object(x.a)({},e.files),{},{get:Object(x.a)(Object(x.a)({},pe.get),{},{failure:{error:!0,message:t.t0.message||Y}})})})})));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),postFiles:function(){var t=Object(G.a)(V.a.mark((function t(c){var n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{files:Object(x.a)(Object(x.a)({},e.files),{},{post:Object(x.a)(Object(x.a)({},pe.post),{},{loading:!0})})})}))),t.prev=1,t.next=4,Promise.all(c.map(function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return e.t0=e.sent,e.t1=t.type,e.abrupt("return",{data:e.t0,type:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return n=t.sent,t.next=7,Promise.all(n.map(function(){var e=Object(G.a)(V.a.mark((function e(t){var c,n,r,a,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new j.a.File("looks",{base64:t.data},t.type),e.next=3,J.a.post("".concat("https://shoplook.frangout.com","/parse/files/looks"),{base64:(null===r||void 0===r||null===(c=r._source)||void 0===c?void 0:c.base64)||r._data,_ApplicationId:j.a.applicationId,_ClientVersion:"js3.4.1",_ContentType:null===r||void 0===r||null===(n=r._source)||void 0===n?void 0:n.type,_JavaScriptKey:j.a.javaScriptKey,fileData:{metadata:{},tags:{}}},{headers:{"content-type":"text/plain"}});case 3:return a=e.sent,o=a.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return r=t.sent,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{files:Object(x.a)(Object(x.a)({},e.files),{},{post:Object(x.a)(Object(x.a)({},pe.post),{},{success:{ok:!0,data:r}})})})}))),t.abrupt("return",r);case 12:throw t.prev=12,t.t0=t.catch(1),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{files:Object(x.a)(Object(x.a)({},e.files),{},{post:Object(x.a)(Object(x.a)({},pe.post),{},{failure:{error:!0,message:t.t0.message||Y}})})})}))),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),destroyFiles:function(){var t=Object(G.a)(V.a.mark((function t(c){var n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{files:Object(x.a)(Object(x.a)({},e.files),{},{destroy:Object(x.a)(Object(x.a)({},pe.destroy),{},{loading:!0})})})}))),t.prev=1,t.next=4,J.a.delete("",{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("thinkificAccessToken")),accept:"*/*","Access-Control-Allow-Origin":"*"}});case 4:return n=t.sent,r=n.data,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{files:Object(x.a)(Object(x.a)({},e.files),{},{destroy:Object(x.a)(Object(x.a)({},pe.destroy),{},{success:{ok:!0,data:r}})})})}))),t.abrupt("return",r);case 10:throw t.prev=10,t.t0=t.catch(1),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{files:Object(x.a)(Object(x.a)({},e.files),{},{destroy:Object(x.a)(Object(x.a)({},pe.destroy),{},{failure:{error:!0,message:t.t0.message||Y}})})})}))),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}})),xe=he,ge=c(355),fe=c(363);var me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isOpen,c=void 0!==t&&t,r=e.onClose,a=(e.on,xe((function(e){return e.files}))),o=xe((function(e){return e.postFiles})),s=Object(W.a)(),i=Object(n.useState)([]),l=Object(O.a)(i,2),j=l[0],b=l[1],d=Object(n.useCallback)(function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(t.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=Object(fe.a)({onDrop:d,accept:"image/*",maxFiles:3,multiple:!0}),h=u.getRootProps,g=u.getInputProps,k=u.isDragActive;Object(n.useEffect)((function(){b([])}),[]),Object(n.useEffect)((function(){return function(){j.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[j]);var v=function(){var e=Object(G.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(j);case 3:t=e.sent,b([]),r(t||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s({title:"Incognito mode is not allowed. "+(e.t0.message||Y),status:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=k?"Drop upto 3 png, jpeg or gifs here ...":"Drag 'n' drop upto 3 png, jpeg or gifs files here, or click to select uploads",w=Object(f.d)("gray.100","gray.600"),C=Object(f.d)(k?"teal.300":"gray.300",k?"teal.500":"gray.500");return Object(S.jsxs)(ge.a,{isOpen:c,onClose:r,closeOnOverlayClick:!1,onEsc:function(){return b([])},children:[Object(S.jsx)(ge.g,{}),Object(S.jsxs)(ge.d,{children:[Object(S.jsx)(ge.f,{children:"Add images for this look."}),Object(S.jsxs)(ge.b,{children:[Object(S.jsx)(p.b,Object(x.a)(Object(x.a)({p:10,cursor:"pointer",bg:k?w:"transparent",_hover:{bg:w},transition:"background-color 0.2s ease",borderRadius:4,border:"3px dashed",borderColor:C},h()),{},{children:Object(S.jsx)(p.l,{children:Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(x.a)({},g())),Object(S.jsx)(p.k,{textAlign:"center",children:y})]})})})),Object(S.jsx)(p.b,{children:Object(S.jsx)(p.i,{spacing:5,columns:3,marginTop:"5",children:j.map((function(e){return Object(S.jsx)(be.a,{src:e.preview,width:100,height:100,objectFit:"cover",borderRadius:"5",borderColor:"gray",borderWidth:"2"},e.name)}))})})]}),Object(S.jsxs)(ge.e,{children:[Object(S.jsx)(m.a,{variant:"ghost",onClick:function(){b([]),r([])},colorScheme:"red",children:"Close"}),Object(S.jsx)(m.a,{colorScheme:"teal",mr:3,onClick:v,loadingText:"Uploading...",isLoading:a.post.loading,children:"Upload"})]})]})]})};function ke(e){var t=Object(g.c)(),c=t.isOpen,r=t.onOpen,a=t.onClose,o=Object(g.c)(),s=o.isOpen,i=o.onOpen,l=o.onClose,j=$((function(e){return e.looks})),d=(xe((function(e){return e.files})),$((function(e){return e.getLooks}))),k=$((function(e){return e.postLooks})),v=$((function(e){return e.destroyLooks})),w=$((function(e){return e.patchLooks})),C=Object(u.h)().id,T=void 0===C?"":C,z=Object(W.a)(),I=(Object(u.g)(),Object(f.d)("gray.100","gray.700"),Object(n.useState)(e.looks.name)),_=Object(O.a)(I,2),L=_[0],A=_[1],F=Object(n.useState)(e.looks.files||[]),D=Object(O.a)(F,2),E=D[0],B=D[1],P=Object(n.useState)(e.looks.products||[]),R=Object(O.a)(P,2),U=R[0],H=R[1],q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];B([].concat(Object(je.a)(E),Object(je.a)(e))),a()},N=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H([].concat(Object(je.a)(U.filter(Boolean)),Object(je.a)(null===t||void 0===t||null===(e=t.selection)||void 0===e?void 0:e.map((function(e){return{title:e.title,image:e.images[0]&&e.images[0].originalSrc||"",id:e.id}})).filter(Boolean)))),l()},K=function(){var e=Object(G.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=6;break}return e.next=3,d({id:T});case 3:t=e.sent,console.log("data is ",t),t&&(A(null===t||void 0===t?void 0:t.name),B([].concat(Object(je.a)(E),Object(je.a)(null===t||void 0===t?void 0:t.medias))),H([].concat(Object(je.a)(U),Object(je.a)(null===t||void 0===t?void 0:t.products.map((function(e){return{id:e.admin_graphql_api_id,title:e.title,image:e.image.src}}))))));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){K()}),[]);var J=function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t);case 3:z({title:"Look deleted!",status:"success"}),window.history.back(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),z({title:e.t0.message||Y,status:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){return U.map((function(e,t){return Object(S.jsxs)(p.j,{id:e.id,justifyContent:"space-between",direction:"row",background:"white",padding:"3",borderRadius:"lg",marginBottom:"4",align:"center",children:[Object(S.jsxs)(p.e,{flexDirection:"row",alignItems:"center",children:[Object(S.jsx)(p.e,{w:16,h:16,align:"center",justify:"center",rounded:"full",children:Object(S.jsx)(be.a,{objectFit:"contain",width:"100%",height:"100%",src:e.image,color:"yellow.500"})}),Object(S.jsx)(p.e,{direction:"column",children:Object(S.jsx)(p.k,{marginLeft:"3",fontWeight:600,children:e.title})})]}),Object(S.jsx)(y.a,{as:M.d,color:"red.500",w:5,h:5,onClick:function(){return function(e){U.splice(e,1),H(Object(je.a)(U.filter(Boolean)))}(t)}})]},t)}))};return Object(S.jsxs)(p.a,{position:"relative",children:[Object(S.jsx)(p.c,{as:p.i,maxW:"7xl",columns:{base:1,md:1},spacing:{base:10,lg:32},py:{base:10,sm:15,lg:20},children:Object(S.jsx)(p.j,{bg:"gray.50",rounded:"xl",p:{base:4,sm:6,md:8},spacing:{base:8},maxW:"3xl",zIndex:"9",margin:"0 auto",width:"100%",children:function(){if(j.get.loading)return Object(S.jsxs)(p.e,{direction:"column",width:"100%",children:[Object(S.jsx)(h.a,{width:"100%",height:"40px",children:" "}),Object(S.jsx)(h.c,{mt:"4",noOfLines:1,spacing:"4"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(h.b,{size:"20"}),Object(S.jsx)(h.c,{mt:"4",noOfLines:4,spacing:"4"})]})]});if(j.get.failure.error)return Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.e,{direction:"column",align:"center",children:[Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(p.g,{as:"h1",size:"md",children:j.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.d,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return K()},children:"Try Again"})})]})});var t,n=(null===j||void 0===j||null===(t=j.get)||void 0===t?void 0:t.success).data;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.j,{spacing:4,children:[Object(S.jsx)(p.g,{color:"gray.800",lineHeight:1.1,fontSize:{base:"2xl",sm:"3xl",md:"4xl"},children:n&&n.name?n.name:"Create a look"}),Object(S.jsx)(p.k,{color:"gray.500",fontSize:{base:"sm",sm:"md"},children:"Add a name for the look you create and link the products from your store that can form this look."})]}),Object(S.jsx)(p.a,{mt:10,children:Object(S.jsxs)(de.d.form,Object(x.a)(Object(x.a)({onSubmit:function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!T){e.next=7;break}return e.next=5,w({id:T,name:L,medias:E,products:U.map((function(e){return e.id}))});case 5:e.next=10;break;case 7:return e.next=9,k({name:L,medias:E,products:U.map((function(e){return e.id}))});case 9:window.history.back();case 10:z({title:"Looks ".concat(T?"updated":"created"," successfully!"),status:"success"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),z({title:e.t0.message||Y,status:"error"});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},e),{},{children:[Object(S.jsxs)(p.j,{spacing:4,children:[Object(S.jsxs)(oe.a,{id:"look-name",children:[Object(S.jsx)(oe.c,{children:"Look name"}),Object(S.jsx)(se.a,{placeholder:"Winter Fashion Look",name:"look_name",type:"text",value:L,onChange:function(e){return A(e.target.value)},required:!0})]}),Object(S.jsxs)(oe.a,{children:[Object(S.jsx)(oe.c,{children:"Add medias to this look"}),Object(S.jsxs)(ue.c,{children:[E.map((function(e,t){return Object(S.jsx)(ue.a,{name:e._name||e.name,src:e._url||e.url,size:"lg",position:"relative",zIndex:2,_before:{content:'""',width:"full",height:"full",rounded:"full",transform:"scale(1.125)",bgGradient:"linear(to-bl, red.400,pink.400)",position:"absolute",zIndex:-1,top:0,left:0},children:Object(S.jsx)(ue.b,{boxSize:"1.25em",bg:"red.500",onClick:function(){return function(e,t){E.splice(t,1),B(Object(je.a)(E.filter(Boolean)))}(0,t)},children:Object(S.jsx)(y.a,{as:M.e,color:"white.500",w:5,h:5})})},(e._name||e.name)+t)})),Object(S.jsx)(ue.a,{onClick:r,size:"lg",bg:"pink.400",_hover:{bg:"pink.300"},cursor:"pointer",icon:Object(S.jsx)(M.a,{size:"2em",color:"white"}),_before:{content:'""',width:"full",height:"full",rounded:"full",transform:"scale(1.2)",bgGradient:"linear(to-bl, red.400,pink.400)",position:"absolute",zIndex:-1,top:0,left:0}})]}),Object(S.jsx)(me,{isOpen:c,onClose:q})]}),Object(S.jsx)("br",{}),Object(S.jsxs)(oe.a,{id:"look-products",children:[Object(S.jsx)(oe.c,{children:"Add products for this look"}),Object(S.jsx)(p.j,{spacing:4,children:X()}),Object(S.jsx)(m.a,{fontFamily:"heading",bg:"gray.200",color:"gray.800",onClick:i,children:"Link products +"}),Object(S.jsx)(b.ResourcePicker,{onSelection:N,onCancel:l,selectMultiple:!0,showVariants:!1,resourceType:"Product",open:s,initialSelectionIds:U.map((function(e){return{id:e.id}})).filter(Boolean)})]})]}),Object(S.jsxs)(m.b,{mt:8,width:"full",children:[n&&n.objectId?Object(S.jsx)(m.a,{isLoading:j.destroy.loading,onClick:function(){return J(n.objectId)},isFullWidth:!0,variant:"ghost",colorScheme:"red",children:"Delete Look"}):null,Object(S.jsx)(m.a,{isLoading:j.post.loading||j.patch.loading,disabled:j.post.loading||j.patch.loading,loadingText:"".concat(T?"Updating":"Saving"," look"),type:"submit",fontFamily:"heading",isFullWidth:!0,w:"full",bgGradient:"linear(to-r, red.400,pink.400)",color:"white",_hover:{bgGradient:"linear(to-r, red.400,pink.400)",boxShadow:"xl"},children:"".concat(T?"Update":"Save"," look")})]})]}))})]})}()})}),Object(S.jsx)(ve,{position:"absolute",top:-10,left:-10,style:{filter:"blur(70px)"}})]})}var ve=function(e){return Object(S.jsxs)(y.a,Object(x.a)(Object(x.a)({width:Object(D.a)({base:"100%",md:"40vw",lg:"30vw"}),zIndex:Object(D.a)({base:-1,md:-1,lg:0}),height:"560px",viewBox:"0 0 528 560",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(S.jsx)("circle",{cx:"71",cy:"61",r:"111",fill:"#F56565"}),Object(S.jsx)("circle",{cx:"244",cy:"106",r:"139",fill:"#ED64A6"}),Object(S.jsx)("circle",{cy:"291",r:"139",fill:"#ED64A6"}),Object(S.jsx)("circle",{cx:"80.5",cy:"189.5",r:"101.5",fill:"#ED8936"}),Object(S.jsx)("circle",{cx:"196.5",cy:"317.5",r:"101.5",fill:"#ECC94B"}),Object(S.jsx)("circle",{cx:"70.5",cy:"458.5",r:"101.5",fill:"#48BB78"}),Object(S.jsx)("circle",{cx:"426.5",cy:"-0.5",r:"101.5",fill:"#4299E1"})]}))};ke.defaultProps={looks:{name:""}};var ye=ke,we={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},patch:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},Se=N()((function(e,t){return{scripts:we,postScripts:function(){var t=Object(G.a)(V.a.mark((function t(){var c,n,r,a=arguments;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>0&&void 0!==a[0]?a[0]:window.lookbook.shop,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{scripts:Object(x.a)(Object(x.a)({},e.scripts),{},{post:Object(x.a)(Object(x.a)({},we.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.post("".concat("https://shoplook.frangout.com","/api/post_scripts"),{shop:c});case 5:return n=t.sent,r=n.data,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{scripts:Object(x.a)(Object(x.a)({},e.scripts),{},{post:Object(x.a)(Object(x.a)({},we.post),{},{success:{ok:!0,data:r}})})})}))),t.abrupt("return",r);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{scripts:Object(x.a)(Object(x.a)({},e.scripts),{},{post:Object(x.a)(Object(x.a)({},we.post),{},{failure:{error:!0,message:t.t0.message||Y}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),destroyScripts:function(){var t=Object(G.a)(V.a.mark((function t(){var c,n,r,a=arguments;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>0&&void 0!==a[0]?a[0]:window.lookbook.shop,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{scripts:Object(x.a)(Object(x.a)({},e.scripts),{},{destroy:Object(x.a)(Object(x.a)({},we.destroy),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.delete("".concat("https://shoplook.frangout.com","/api/destroy_scripts?shop=").concat(c));case 5:return n=t.sent,r=n.data,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{scripts:Object(x.a)(Object(x.a)({},e.scripts),{},{destroy:Object(x.a)(Object(x.a)({},we.destroy),{},{success:{ok:!0,data:r}})})})}))),t.abrupt("return",r);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{scripts:Object(x.a)(Object(x.a)({},e.scripts),{},{destroy:Object(x.a)(Object(x.a)({},we.destroy),{},{failure:{error:!0,message:t.t0.message||Y}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}()}})),Ce=Se,Te=r.a.createContext(),ze=function(){var e=Object(n.useContext)(Te),t=Ce((function(e){return e.scripts})),c=Ce((function(e){return e.postScripts})),r=Ce((function(e){return e.destroyScripts})),a=Object(W.a)(),o=function(){var t=Object(G.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:a({title:"Widget added successfully! Please visit your online store after 30 seconds to check the widget.",status:"success"}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({title:t.t0.message||Y,status:"error"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(G.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e);case 3:a({title:"Widget removed successfully!",status:"success"}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({title:t.t0.message||Y,status:"error"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsx)(p.c,{maxW:"7xl",p:"12",children:Object(S.jsx)(p.a,{as:"section",children:Object(S.jsxs)(p.a,{maxW:"2xl",mx:"auto",px:{base:"6",lg:"8"},py:{base:"16",sm:"20"},textAlign:"center",children:[Object(S.jsx)(p.g,{size:"3xl",fontWeight:"extrabold",letterSpacing:"tight",children:"Widget embed settings"}),Object(S.jsx)(p.k,{mt:"4",fontSize:"lg",children:'Enable or disable "Shop the look" widget on your store. The widget gets appended to the bottom of your store page above the footer on the home page.'}),Object(S.jsxs)(m.b,{mt:"8",variant:"outline",spacing:"6",children:[Object(S.jsx)(m.a,{isLoading:t.post.loading,fontWeight:"bold",size:"lg",colorScheme:"blue",onClick:o,children:"Enable Widget Embed"}),Object(S.jsx)(m.a,{isLoading:t.destroy.loading,fontWeight:"bold",size:"lg",colorScheme:"red",onClick:s,children:"Disable Widget Embed"})]})]})})})]})},Ie={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}}},_e=N()((function(e,t){return{products:Ie,getProducts:function(){var t=Object(G.a)(V.a.mark((function t(){var c,n,r,a,o,s,i,l=arguments;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l.length>0&&void 0!==l[0]?l[0]:{},n=c.products,r=void 0===n?[]:n,a=c.shop,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{products:Object(x.a)(Object(x.a)({},e.products),{},{get:Object(x.a)(Object(x.a)({},Ie.get),{},{loading:!0})})})}))),t.prev=2,o=r.map((function(e){var t;if("string"===typeof e)return null===(t=e.split("/"))||void 0===t?void 0:t.pop()})).filter(Boolean),t.next=6,J.a.get("".concat("https://shoplook.frangout.com","/api/get_products?shop=").concat(a,"&ids=").concat(o));case 6:return s=t.sent,i=s.data,e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{products:Object(x.a)(Object(x.a)({},e.products),{},{get:Object(x.a)(Object(x.a)({},Ie.get),{},{success:{ok:!0,data:i}})})})}))),t.abrupt("return",i);case 12:t.prev=12,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(x.a)(Object(x.a)({},e),{},{products:Object(x.a)(Object(x.a)({},e.products),{},{get:Object(x.a)(Object(x.a)({},Ie.get),{},{failure:{error:!0,message:t.t0.message||Y}})})})})));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}()}})),Le=_e,We=(c(819),function(e){var t=e.isOpen,c=e.onClose,r=e.productIds,a=void 0===r?[]:r,o=e.lookId,s=Le((function(e){return e.products})),i=Le((function(e){return e.getProducts})),l=Object(n.useContext)(Te);Object(n.useEffect)((function(){i({products:a,shop:l})}),[]);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(ge.a,{isCentered:!0,scrollBehavior:"inside",closeOnOverlayClick:!0,blockScrollOnMount:!1,preserveScrollBarGap:!0,lockFocusAcrossFrames:!1,isOpen:t,onClose:c,size:"xl",children:[Object(S.jsx)(ge.g,{}),Object(S.jsxs)(ge.d,{children:[Object(S.jsx)(ge.f,{children:"Shop the products in this look"}),Object(S.jsx)(ge.c,{}),Object(S.jsx)(ge.b,{children:s.get.loading?Object(S.jsx)(p.i,{minChildWidth:"330px",spacing:"10px",children:[1,2,3].map((function(e,t){return Object(S.jsx)(p.b,{p:4,children:Object(S.jsx)(h.a,{width:"330px",height:"330px"})},t)}))}):s.get.failure.error?Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.e,{direction:"column",align:"center",children:[Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(p.g,{as:"h1",size:"md",children:s.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.d,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return i({products:a,shop:l})},children:"Try Again"})})]})}):s.get.success.data.length?Object(S.jsx)(p.i,{minChildWidth:"330px",spacing:"10px",children:s.get.success.data.map((function(e){return Object(S.jsx)(p.b,{py:8,children:Object(S.jsxs)(p.a,{role:"group",p:4,maxW:"330px",w:"full",boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,children:[Object(S.jsx)(p.a,{rounded:"lg",mt:-12,pos:"relative",height:"260px",_groupHover:{_after:{filter:"blur(20px)"}},children:Object(S.jsx)(U,{medias:e.images,height:260,width:282})}),Object(S.jsxs)(p.j,{pt:3,align:"center",children:[Object(S.jsx)(p.k,{color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:e.variants&&e.variants.length?"".concat(e.variants.length," variants available"):null}),Object(S.jsx)(p.g,{textAlign:"center",fontSize:"2xl",fontFamily:"body",fontWeight:500,children:e.title}),Object(S.jsx)(p.h,{marginTop:"10px",href:"http://".concat(l,"/products/").concat(e.handle,"?app=shoplook&lookid=").concat(o),target:"_blank",width:"full",children:Object(S.jsx)(m.a,{isFullWidth:!0,rightIcon:Object(S.jsx)(w.d,{}),children:"View Product"})})]})]})},e.admin_graphql_api_id||e.id)}))}):null}),Object(S.jsx)(ge.e,{children:Object(S.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:c,children:"Close"})})]})]})})}),Ae=function(e){var t=Object(f.d)("white","gray.800"),c=$((function(e){return e.looks})),r=$((function(e){return e.getLooks})),a=Object(n.useContext)(Te),o=Object(g.c)(),s=o.isOpen,i=o.onOpen,l=o.onClose,j=Object(n.useState)([]),b=Object(O.a)(j,2),d=b[0],u=b[1],x=Object(n.useState)(!1),k=Object(O.a)(x,2),v=k[0],y=k[1],w=Object(n.useState)(""),C=Object(O.a)(w,2),T=C[0],z=C[1];Object(n.useEffect)((function(){r({shop:a})}),[]);var I=function(){z(""),u([]),y(!1),l()};return Object(S.jsxs)(p.c,{maxW:"7xl",p:"12",children:[Object(S.jsx)(p.b,{children:Object(S.jsx)(p.g,{children:"Shop The Look"})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.i,{minChildWidth:"330px",spacing:"10px",children:c.get.loading?[1,2,3].map((function(e,t){return Object(S.jsx)(p.b,{children:Object(S.jsx)(h.a,{width:"330px",height:"330px"})},t)})):c.get.failure.error?Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.e,{direction:"column",align:"center",children:[Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(p.g,{as:"h1",size:"md",children:c.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.d,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.l,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return r({shop:a})},children:"Try Again"})})]})}):c.get.success.data.length?Object(S.jsxs)(S.Fragment,{children:[v?Object(S.jsx)(We,{isOpen:s,onClose:I,lookId:T,productIds:d}):null,c.get.success.data.map((function(e){return Object(S.jsx)(p.b,{py:8,children:Object(S.jsxs)(p.a,{role:"group",p:4,maxW:"330px",w:"full",bg:t,boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,children:[Object(S.jsx)(p.a,{rounded:"lg",mt:-12,pos:"relative",height:"260px",_groupHover:{_after:{filter:"blur(20px)"}},children:Object(S.jsx)(U,{medias:e.medias,height:260,width:282})}),Object(S.jsxs)(p.j,{pt:3,align:"center",children:[Object(S.jsxs)(p.k,{color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:[e.products.length," products in this look"]}),Object(S.jsx)(p.g,{fontSize:"2xl",fontFamily:"body",fontWeight:500,children:e.name}),Object(S.jsx)(m.a,{marginTop:"10px",onClick:function(){return function(e){var t=e.lookId,c=e.products;u(c),z(t),y(!0),i()}({lookId:e.id||e.objectId,products:e.products})},isFullWidth:!0,children:"Shop The Look"})]})]})},e.id||e.objectId)}))]}):void 0})]})},Fe=function(e){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(u.d,{children:[Object(S.jsx)(u.b,{path:"/embed",element:Object(S.jsx)(Ae,{})}),Object(S.jsx)(u.b,{path:"/settings",element:Object(S.jsx)(ze,{})}),Object(S.jsx)(u.b,{path:"/looks",element:Object(S.jsx)(le,{})}),Object(S.jsx)(u.b,{path:"/looks/:id",element:Object(S.jsx)(ye,{})}),Object(S.jsx)(u.b,{path:"/looks/create",element:Object(S.jsx)(ye,{})}),Object(S.jsx)(u.b,{path:"/shopify",element:Object(S.jsx)(le,{})}),Object(S.jsx)(u.b,{path:"/shopify/callback",element:Object(S.jsx)(le,{})}),Object(S.jsx)(u.b,{path:"/authorize",element:Object(S.jsx)(ie,{})}),Object(S.jsx)(u.b,{path:"/",element:Object(S.jsx)(le,{})})]})})};j.a.initialize("shoplooks","shoplooks"),j.a.serverURL="https://shoplook.frangout.com/parse";var De=d(window.location.search),Ee=De.host,Be=De.shop,Pe=void 0===Be?"":Be;Ee?o.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(s.a,{children:Object(S.jsx)(i.a,{children:Object(S.jsx)(b.Provider,{config:{apiKey:"7e2581c77e3cf42a12f9a1ef624ad7ea",host:Ee,forceRedirect:!0},children:Object(S.jsx)(Te.Provider,{value:Pe,children:Object(S.jsx)(Fe,{})})})})})}),document.getElementById("root")):o.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(s.a,{children:Object(S.jsx)(i.a,{children:Object(S.jsx)(Te.Provider,{value:Pe,children:Object(S.jsx)(Fe,{})})})})}),document.getElementById("root"))}},[[820,1,2]]]);
//# sourceMappingURL=main.f63de22c.chunk.js.map